{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport axios from \"axios\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function NutritionScreen() {\n  var _useState = useState(\"Chapathi: 4 pieces\\nPotato Kuruma: 200 g\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    items = _useState2[0],\n    setItems = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    result = _useState4[0],\n    setResult = _useState4[1];\n  var callApi = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var lines = items.split(\"\\\\n\").map(function (l) {\n        var parts = l.split(\":\");\n        return {\n          item: parts[0].trim(),\n          quantity: (parts[1] || \"1 unit\").trim()\n        };\n      });\n      try {\n        var res = yield axios.post(\"http://10.68.172.233:8080/nutrition\", {\n          foods: lines\n        });\n        setResult(res.data.meal_nutrition);\n      } catch (e) {\n        alert(\"API error: \" + e.message);\n      }\n    });\n    return function callApi() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(ScrollView, {\n    style: {\n      padding: 20\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 20,\n        fontWeight: \"bold\"\n      },\n      children: \"Nutrition Analyzer\"\n    }), _jsx(Text, {\n      style: {\n        marginTop: \"12px\"\n      },\n      children: \"Enter one item per line like: Chapathi: 4 pieces\"\n    }), _jsx(TextInput, {\n      value: items,\n      onChangeText: setItems,\n      multiline: true,\n      style: {\n        borderWidth: 1,\n        height: \"auto\",\n        marginVertical: 10\n      }\n    }), _jsx(Button, {\n      title: \"Analyze\",\n      onPress: callApi\n    }), result && _jsxs(View, {\n      style: {\n        marginTop: 20\n      },\n      children: [_jsxs(Text, {\n        children: [\"Total Calories: \", result.total_calories]\n      }), _jsxs(Text, {\n        children: [\"Protein: \", result.macros.protein, \" g\"]\n      }), _jsxs(Text, {\n        children: [\"Carbs: \", result.macros.carbs, \" g\"]\n      }), _jsxs(Text, {\n        children: [\"Fat: \", result.macros.fat, \" g\"]\n      }), _jsx(View, {\n        style: {\n          height: 10\n        }\n      }), result.breakdown.map(function (b) {\n        return _jsxs(View, {\n          style: {\n            borderTopWidth: 1,\n            paddingTop: 8\n          },\n          children: [_jsx(Text, {\n            children: b.item\n          }), _jsxs(Text, {\n            children: [\"Calories: \", b.calories, \" | P: \", b.protein, \" | C: \", b.carbs, \" | F: \", b.fat]\n          })]\n        }, b.item);\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","ScrollView","axios","jsx","_jsx","jsxs","_jsxs","NutritionScreen","_useState","_useState2","_slicedToArray","items","setItems","_useState3","_useState4","result","setResult","callApi","_ref","_asyncToGenerator","lines","split","map","l","parts","item","trim","quantity","res","post","foods","data","meal_nutrition","e","alert","message","apply","arguments","style","padding","children","fontSize","fontWeight","marginTop","value","onChangeText","multiline","borderWidth","height","marginVertical","title","onPress","total_calories","macros","protein","carbs","fat","breakdown","b","borderTopWidth","paddingTop","calories"],"sources":["/Users/hariharan/ProjrctFile/diet_recommendation_project/frontend/src/screens/NutritionScreen.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { View, Text, TextInput, Button, ScrollView } from \"react-native\";\nimport axios from \"axios\";\n\nexport default function NutritionScreen(){\n  const [items, setItems] = useState(\"Chapathi: 4 pieces\\nPotato Kuruma: 200 g\");\n  const [result, setResult] = useState(null);\n\n  const callApi = async ()=>{\n    const lines = items.split(\"\\\\n\").map(l=>{\n      const parts = l.split(\":\");\n      return {item: parts[0].trim(), quantity: (parts[1]||\"1 unit\").trim()}\n    });\n    try{\n      const res = await axios.post(\"http://10.68.172.233:8080/nutrition\", {foods: lines});\n      setResult(res.data.meal_nutrition);\n    }catch(e){\n      alert(\"API error: \" + e.message);\n    }\n  };\n\n  return (\n    <ScrollView style={{padding:20}}>\n      <Text style={{fontSize:20, fontWeight:\"bold\"}} >Nutrition Analyzer</Text>\n      <Text style={{marginTop: \"12px\"}} >Enter one item per line like: Chapathi: 4 pieces</Text>\n      <TextInput value={items} onChangeText={setItems} multiline style={{borderWidth:1, height:\"auto\", marginVertical:10}} />\n      <Button title=\"Analyze\" onPress={callApi} />\n      {result && (\n        <View style={{marginTop:20}}>\n          <Text>Total Calories: {result.total_calories}</Text>\n          <Text>Protein: {result.macros.protein} g</Text>\n          <Text>Carbs: {result.macros.carbs} g</Text>\n          <Text>Fat: {result.macros.fat} g</Text>\n          <View style={{height:10}} />\n          {result.breakdown.map(b=>(\n            <View key={b.item} style={{borderTopWidth:1, paddingTop:8}}>\n              <Text>{b.item}</Text>\n              <Text>Calories: {b.calories} | P: {b.protein} | C: {b.carbs} | F: {b.fat}</Text>\n            </View>\n          ))}\n        </View>\n      )}\n    </ScrollView>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}